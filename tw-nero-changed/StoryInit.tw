:: StoryInit [inclusion] {"position":"2150,575","size":"100,100"}
<<script>>

// globals for Mage's Tower
window.MT = {};

// TODO: delete this compatibility shim
window.MagesTower = window.MT;

function runInit(regex) {
  const inits = Story.lookupWith(p => regex.test(p.title));
  inits.forEach(p => {
    try {
      $.wiki(p.text);
    } catch (e) {
      e.message = `[${p.title}]: ${e.message}`;
      throw e;
    }
  });
}

runInit(/^Init-0 /);
runInit(/^Init /);

<</script>>
