:: StoryInit [inclusion] {"position":"2150,575","size":"100,100"}
<<script>>

/** globals for Mage's Tower */
window.MT = {};

/** Evaluate all passages that match regex. */
function runInit(regex) {
  const inits = Story.lookupWith(p => regex.test(p.title));
  inits.forEach(p => {
    try {
      $.wiki(p.text);
    } catch (e) {
      e.message = `[${p.title}]: ${e.message}`;
      throw e;
    }
  });
}

runInit(/^Early Init /);
runInit(/^Init /);

<</script>>
